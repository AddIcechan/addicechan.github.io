<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>GitHub å’Œ Gitlab å…±å­˜ | AddIce</title>

  
  <meta name="author" content="å…­å”">
  

  
  <meta name="description" content="è¿™ä¸¤å¤©ï¼Œæƒ³é€šè¿‡Github Pagesæ¥æ­å»ºä¸€ä¸ªè‡ªå·±çš„Blogã€‚è¿‡ç¨‹ä¸­éœ€è¦ç”¨åˆ°SSHã€‚å› ä¸ºå…¬å¸é¡¹ç›®ä½¿ç”¨çš„æ˜¯Gitlabï¼Œæ‰€ä»¥ä¹‹å‰å…¶å®ä¸¤è€…é€šè¿‡ä¸€ä¸ªconfigï¼Œå·²ç»å¯ä»¥è¿›è¡Œå…±å­˜äº†ã€‚ä½†æ˜¯æœ€è¿‘ğŸ’»å‡çº§åˆ°macOS Serriaåï¼Œå‘ç°åŸå…ˆçš„é…ç½®å¤±æ•ˆäº†ã€‚ssh -T git@github.comï¼Œä¸€ç›´æ˜¾ç¤ºxxxx deniedxxxxxã€‚æŒ‰ç…§Githubçš„å®˜ç½‘æŒ‡å—æ¥è®²ï¼Œè¿™æ˜¯ï¼Œæ²¡æœ‰é…ç½®å¥½ã€‚äºæ˜¯åˆèµ°äº†ä¸€éæµç¨‹ã€‚ssh -T git@github.comã€‚å†æ¬¡æˆåŠŸäº†ã€‚
ç„¶å¹¶åµï¼ï¼ï¼ï¼">
  

  
  
  <meta name="keywords" content="Others">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="GitHub å’Œ Gitlab å…±å­˜"/>

  <meta property="og:site_name" content="AddIce"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="AddIce" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
</head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">AddIce</a>
    </h1>
    <p class="site-description"></p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">Home</a></li>
      
        <li><a href="/categories/Swift">Swift</a></li>
      
        <li><a href="/categories/Objective-C">Objective-C</a></li>
      
        <li><a href="/categories/Others">Others</a></li>
      
        <li><a href="/about">About</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>GitHub å’Œ Gitlab å…±å­˜</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/multiple_git_account_ssh/" rel="bookmark">
        <time class="entry-date published" datetime="2017-01-30T15:03:21.000Z">
          2017-01-30
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>è¿™ä¸¤å¤©ï¼Œæƒ³é€šè¿‡<code>Github Pages</code>æ¥æ­å»ºä¸€ä¸ªè‡ªå·±çš„<code>Blog</code>ã€‚è¿‡ç¨‹ä¸­éœ€è¦ç”¨åˆ°<code>SSH</code>ã€‚å› ä¸ºå…¬å¸é¡¹ç›®ä½¿ç”¨çš„æ˜¯<code>Gitlab</code>ï¼Œæ‰€ä»¥ä¹‹å‰å…¶å®ä¸¤è€…é€šè¿‡ä¸€ä¸ª<code>config</code>ï¼Œå·²ç»å¯ä»¥è¿›è¡Œå…±å­˜äº†ã€‚ä½†æ˜¯æœ€è¿‘ğŸ’»å‡çº§åˆ°<code>macOS Serria</code>åï¼Œå‘ç°åŸå…ˆçš„é…ç½®å¤±æ•ˆäº†ã€‚<code>ssh -T git@github.com</code>ï¼Œä¸€ç›´æ˜¾ç¤º<code>xxxx deniedxxxxx</code>ã€‚æŒ‰ç…§<code>Github</code>çš„å®˜ç½‘æŒ‡å—æ¥è®²ï¼Œè¿™æ˜¯ï¼Œæ²¡æœ‰é…ç½®å¥½ã€‚äºæ˜¯åˆèµ°äº†ä¸€éæµç¨‹ã€‚<code>ssh -T git@github.com</code>ã€‚å†æ¬¡æˆåŠŸäº†ã€‚</p>
<p>ç„¶å¹¶åµï¼ï¼ï¼ï¼</p>
<a id="more"></a>
<p>é‡å¯ğŸ’»çš„æˆ‘è¡¨ç¤ºå¾ˆå—ä¼¤ã€‚é…ç½®åœ¨æ­¤å¤±æ•ˆäº†ã€‚å¯èƒ½é…äº†ä¸ªå‡<code>config</code>ã€‚äºæ˜¯ï¼Œç»§ç»­æµç¨‹ï¼Œå†é‡å¯ï¼Œå†å¤±æ•ˆã€‚</p>
<p>å…ˆæ‰¯æ‰¯é…ç½®çš„è¿‡ç¨‹å§ã€‚<code>Github</code>å’Œ<code>Gitlab</code>ä½¿ç”¨<code>SSH</code>å…±å­˜ã€‚å¦‚æœäºŒè€…æ˜¯ä½¿ç”¨åŒä¸€ä¸ªé‚®ç®±ï¼Œé‚£OKï¼Œæ²¡æœ‰ä»»ä½•å¤§é—®é¢˜ï¼Œå¯ä»¥å…±äº«ä¸€ä¸ª<code>SSH</code>ã€‚ä¸è¿‡è¿™ç§ä½¿ç”¨åŒä¸€ä¸ªé‚®ç®±çš„ï¼Œæœºç‡è¿˜æ˜¯æ¯”è¾ƒå°‘çš„ã€‚å› æ­¤éœ€è¦é¢å¤–çš„ä¸€ä¸ªé…ç½®æ–‡ä»¶ã€‚<br>å³<code>~/.ssh</code>ç›®å½•ä¸‹çš„<code>config</code>ï¼Œè‹¥ä¸å­˜åœ¨ï¼Œåˆ™æ–°å»ºä¸€ä¸ª<code>touch config</code>ã€‚</p>
<p>ä¹‹åï¼Œå°†ä¸‹è¿°å†…å®¹ç»™è¡¥å……è¿›å»ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"># Default github user</div><div class="line">Host *@github.com   // ä»»æ„</div><div class="line">HostName github.com  </div><div class="line">User xxxx  // ä»»æ„</div><div class="line">PreferredAuthentications publickey</div><div class="line">IdentityFile ~/.ssh/id_github  // ä¹‹å‰ç”Ÿæˆçš„ github_rsa</div><div class="line"></div><div class="line"># second user(chenjiabin@linghit.com)</div><div class="line"># å»ºä¸€ä¸ªgitlab</div><div class="line">Host *@gitlab.xxx.com</div><div class="line">HostName xxxx.com</div><div class="line">User xxx</div><div class="line">PreferredAuthentications publickey</div><div class="line">IdentityFile ~/.ssh/id_gitlab</div></pre></td></tr></table></figure>
<p>ä¹‹åâ€”â€”</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ eval &quot;$(ssh-agent -s)&quot;</div><div class="line">$ ssh-add -K [key]   // eg: shh-add -K ~/.ssh/id_github</div></pre></td></tr></table></figure>
<p>æ­¤æ—¶è¦å°†<code>github</code>å’Œ<code>gitlab</code>çš„<code>key</code>éƒ½åŠ è¿›å»ã€‚åŠ å®Œä¹‹åï¼Œ<code>ssh-add  -l</code>ã€‚ä¼šçœ‹åˆ°ä¸¤ä¸ªå·²åŠ å…¥çš„<code>RSA</code>ã€‚</p>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœæ˜¯<code>macOS Serria</code>ä»¥ä¸‹çš„ç‰ˆæœ¬ï¼Œé‚£ä¹ˆåˆ°è¿™é‡ŒåŸºæœ¬å°±æ˜¯æˆåŠŸäº†ã€‚å¦‚æœä½ å’Œæˆ‘ä¸€æ ·éƒ½æ˜¯<code>macOS Serria</code>ï¼Œé‡å¯ä¹‹åï¼Œè¿˜æ˜¯å¤±æ•ˆã€‚é‚£å°±è¿˜è¦å¤šä¸¤æ­¥ã€‚</p>
<p>ä¹‹å‰ä½¿ç”¨<code>ssh-add -K</code>ï¼Œè¿™æ˜¯ä¼šæŠŠ<code>RSA</code>çš„å¯†ç å­˜å‚¨è‡³<code>keychain</code>é‡Œé¢æ¥ç€ï¼Œä½†æ˜¯ï¼Œåœ¨<code>macOS Serria</code>ï¼Œè¿™ä¸ªå·²ç»å¤±æ•ˆäº†ã€‚</p>
<p><img src="/images/multiple_git_account_ssh/p1.png" alt="p1"></p>
<p><code>ssh</code>å¤šå‡ºäº†ä¸¤ä¸ª<code>option</code>â€”â€”<code>UseKeychain</code>&amp;<code>AddKeysToAgent</code>ã€‚è¯¦æƒ…çœ‹<a href="https://developer.apple.com/library/content/technotes/tn2449/_index.html" target="_blank" rel="external">å®˜ç½‘æè¿°</a>å§ã€‚ä¸Šè¿°çš„<code>config</code>åˆ™å¤šäº†å˜åŒ–â€”â€”</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"># Default github user</div><div class="line">Host *@github.com   // ä»»æ„</div><div class="line">HostName github.com  </div><div class="line">User xxxx  // ä»»æ„</div><div class="line">PreferredAuthentications publickey</div><div class="line">IdentityFile ~/.ssh/id_github  // ä¹‹å‰ç”Ÿæˆçš„ github_rsa</div><div class="line">AddKeysToAgent yes</div><div class="line">UseKeychain yes</div><div class="line"></div><div class="line"># second user(chenjiabin@linghit.com)</div><div class="line"># å»ºä¸€ä¸ªgitlab</div><div class="line">Host *@gitlab.xxx.com</div><div class="line">HostName xxxx.com</div><div class="line">User xxx</div><div class="line">PreferredAuthentications publickey</div><div class="line">IdentityFile ~/.ssh/id_gitlab</div><div class="line">AddKeysToAgent yes</div><div class="line">UseKeychain yes</div></pre></td></tr></table></figure>
<p>å†æ¬¡è¿›è¡Œ<code>ssh-add</code>ã€‚é‡å¯ã€‚ç„¶åå‘ç°ç…§æ ·æ— æ•ˆã€‚</p>
<p><img src="/images/multiple_git_account_ssh/p2.png" alt="p2"></p>
<p>ä¸Šæˆ‘å¤§<code>Google</code>æ±‚åŠ©ã€‚ç»ˆäºæ‰¾åˆ°ä¸€ä¸ªè§£å†³æ–¹æ¡ˆã€‚<a href="https://github.com/jirsbek/SSH-keys-in-macOS-Sierra-keychain" target="_blank" rel="external">å¤§ç¥çš„è§£å†³æ–¹æ¡ˆ</a></p>
<p>å¤§ç¥çš„è§£å†³æ–¹æ¡ˆï¼šæ¯æ¬¡å¯åŠ¨ï¼Œéƒ½å»æ‰§è¡Œä¸€æ¬¡<code>ssh-add -A</code>ã€‚</p>
<p>åœ¨ <code>~/Library/LaunchAgents/</code>ç›®å½•ä¸‹ï¼ŒåŠ å…¥ä¸€ä¸ª<code>.plist</code>ã€‚å†…å®¹å¦‚ä¸‹â€”â€”</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</div><div class="line">&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;</div><div class="line">&lt;plist version=&quot;1.0&quot;&gt;</div><div class="line">&lt;dict&gt;</div><div class="line">    &lt;key&gt;Label&lt;/key&gt;</div><div class="line">    &lt;string&gt;ssh-add-a&lt;/string&gt;</div><div class="line">    &lt;key&gt;ProgramArguments&lt;/key&gt;</div><div class="line">    &lt;array&gt;</div><div class="line">        &lt;string&gt;ssh-add&lt;/string&gt;</div><div class="line">        &lt;string&gt;-A&lt;/string&gt;</div><div class="line">    &lt;/array&gt;</div><div class="line">    &lt;key&gt;RunAtLoad&lt;/key&gt;</div><div class="line">    &lt;true/&gt;</div><div class="line">&lt;/dict&gt;</div><div class="line">&lt;/plist&gt;</div></pre></td></tr></table></figure>
<p>é‡å¯ã€‚æˆåŠŸã€‚</p>
<p><img src="/images/multiple_git_account_ssh/p3.png" alt="p3"></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/Others/">Others</a>
    </span>
    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/Others/">Others</a>
    </span>
    

    </div>

    
  </div>
</article>

  



    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2017 å…­å”
    
  </p>
</footer>
    
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', '1146714784', 'auto');
    ga('send', 'pageview');

</script>

  </div>
</div>
</body>
</html>